<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Guo Xudong&#39;s BlogÂ·éƒ­æ—­ä¸œçš„åšå®¢ â€“ Go</title>
    <link>https://guoxudong.io/categories/go/</link>
    <description>Recent content in Go on Guo Xudong&#39;s BlogÂ·éƒ­æ—­ä¸œçš„åšå®¢</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Wed, 12 Aug 2020 16:48:34 +0800</lastBuildDate>
    
	  <atom:link href="https://guoxudong.io/categories/go/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Post: Cobra å‘½ä»¤è‡ªåŠ¨è¡¥å…¨æŒ‡åŒ—</title>
      <link>https://guoxudong.io/post/cobra-shell-completions/</link>
      <pubDate>Wed, 12 Aug 2020 16:48:34 +0800</pubDate>
      
      <guid>https://guoxudong.io/post/cobra-shell-completions/</guid>
      <description>
        
        
        &lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;ç”¨è¿‡ç±» Unix ç³»ç»Ÿä¸­ Unix shell(Shell/Bash/Zsh) çš„åŒå­¦éƒ½åº”è¯¥å¯¹ &lt;kbd&gt;TAB&lt;/kbd&gt; é”®å°è±¡æ·±åˆ»ï¼Œå› ä¸ºå®ƒå¯ä»¥å¸®å¿™è¡¥å…¨æˆ–æç¤ºåç»­çš„å‘½ä»¤ï¼Œç”¨æˆ·ä¸ç”¨è®°ä½å®Œæ•´çš„å‘½ä»¤ï¼Œåªéœ€è¾“å…¥å‰å‡ ä¸ªå­—ç¬¦ï¼ŒæŒ‰ &lt;kbd&gt;TAB&lt;/kbd&gt; é”®ï¼Œå°±ä¼šæç¤ºåç»­çš„å‘½ä»¤ä¾›ç”¨æˆ·é€‰æ‹©ï¼Œç”¨æˆ·ä½“éªŒæä½³ã€‚ç›®å‰æµè¡Œçš„ä¸€äº›ä½¿ç”¨ Go è¯­è¨€å¼€å‘çš„ CLI å·¥å…·ï¼Œå¦‚ &lt;code&gt;kubectl&lt;/code&gt; å’Œ &lt;code&gt;helm&lt;/code&gt;ï¼Œä»–ä»¬ä¹Ÿéƒ½æœ‰ &lt;code&gt;completion&lt;/code&gt; ä¹Ÿå°±æ˜¯å‘½ä»¤è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œé€šè¿‡å°† &lt;code&gt;source &amp;lt;(kubectl completion zsh)&lt;/code&gt; åŠ å…¥ &lt;code&gt;.zshrc&lt;/code&gt; æ–‡ä»¶ä¸­ï¼Œå°±å¯ä»¥åœ¨æ¯æ¬¡å¯åŠ¨ shell æ—¶è‡ªåŠ¨åŠ è½½è‡ªåŠ¨è¡¥å…¨è„šæœ¬ï¼Œä¹‹åå°±å¯ä»¥ä½“éªŒåˆ°ä¸åŸç”Ÿ shell ç›¸åŒçš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½äº†ã€‚è¿™äº› CLI å·¥å…·ï¼Œéƒ½æ˜¯åŸºäº &lt;a href=&#34;https://github.com/spf13/cobra&#34;&gt;Cobra&lt;/a&gt; åº“å¼€å‘ï¼Œå‘½ä»¤è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ä¹Ÿæ˜¯è¯¥åº“æä¾›çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œæœ¬ç¯‡æ–‡ç« å°±æ¥è®²è®²å¦‚ä½•ä½¿ç”¨ Cobra å®ç°å‘½ä»¤è‡ªåŠ¨è¡¥å…¨çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;cobra-shell-completion&#34;&gt;Cobra Shell Completion&lt;/h2&gt;
&lt;p&gt;Cobra å¯ä»¥ä½œä¸ºä¸€ä¸ª Golang åŒ…ï¼Œç”¨æ¥æ„å»ºåŠŸèƒ½å¼ºå¤§çš„å‘½ä»¤è¡Œç¨‹åºï¼›åŒæ—¶ä¹Ÿå¯ä»¥ä½œä¸º CLI å·¥å…·ï¼Œç”¨æ¥ç”Ÿæˆåº”ç”¨ç¨‹åºå’Œå‘½ä»¤æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæ–‡æœ¬ä¸»è¦ä»‹ç» Cobra çš„å‘½ä»¤è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œæ›´å¤šå†…å®¹è¯·æŸ¥é˜…&lt;a href=&#34;https://github.com/spf13/cobra&#34;&gt;å®˜ç½‘&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tvax2.sinaimg.cn/large/ad5fbf65gy1gho68w1h0sj20tn09e0td.jpg&#34; alt=&#34;Cobra&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;åŸºç¡€ç”¨æ³•&#34;&gt;åŸºç¡€ç”¨æ³•&lt;/h3&gt;
&lt;p&gt;Cobra å½“å‰çš„æœ€æ–°ç‰ˆæœ¬ä¸º &lt;code&gt;v1.0.0&lt;/code&gt;ï¼Œæ”¯æŒç”Ÿæˆå¤šç§ Shell çš„è‡ªåŠ¨è¡¥å…¨è„šæœ¬ï¼Œç›®å‰æ”¯æŒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bash&lt;/li&gt;
&lt;li&gt;Zsh&lt;/li&gt;
&lt;li&gt;Fish&lt;/li&gt;
&lt;li&gt;PowerShell&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚ä¸Šæ‰€è¿°ï¼ŒCobra ä¸ä½†æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Golang åŒ…ï¼Œè¿˜æ˜¯ä¸€ä¸ª CLI å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥ç”Ÿæˆåº”ç”¨ç¨‹åºå’Œå‘½ä»¤æ–‡ä»¶ã€‚ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œå³å¯ç”Ÿæˆç”¨äºå‘½ä»¤è‡ªåŠ¨è¡¥å…¨çš„ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ cobra add completion
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ–è€…ä¹Ÿå¯ä»¥åˆ›å»º &lt;code&gt;cmd/completion.go&lt;/code&gt; æ–‡ä»¶ï¼Œæ¥æ”¾ç½®ç”¨äºç”Ÿæˆå‘½ä»¤è‡ªåŠ¨è¡¥å…¨è„šæœ¬çš„ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;var&lt;/span&gt; completionCmd = &amp;amp;cobra.Command{
    Use:                   &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;completion [bash|zsh|fish|powershell]&amp;#34;&lt;/span&gt;,
    Short:                 &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;Generate completion script&amp;#34;&lt;/span&gt;,
    Long: &lt;span style=&#34;color:#ed9d13&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;To load completions:
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;Bash:
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;$ source &amp;lt;(yourprogram completion bash)
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;# To load completions for each session, execute once:
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;Linux:
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;  $ yourprogram completion bash &amp;gt; /etc/bash_completion.d/yourprogram
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;MacOS:
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;  $ yourprogram completion bash &amp;gt; /usr/local/etc/bash_completion.d/yourprogram
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;Zsh:
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;# If shell completion is not already enabled in your environment you will need
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;# to enable it.  You can execute the following once:
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;$ echo &amp;#34;autoload -U compinit; compinit&amp;#34; &amp;gt;&amp;gt; ~/.zshrc
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;# To load completions for each session, execute once:
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;$ yourprogram completion zsh &amp;gt; &amp;#34;$&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;fpath[1]}/_yourprogram&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;# You will need to start a new shell for this setup to take effect.
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;Fish:
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;$ yourprogram completion fish | source
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;# To load completions for each session, execute once:
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;$ yourprogram completion fish &amp;gt; ~/.config/fish/completions/yourprogram.fish
&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;`&lt;/span&gt;,
    DisableFlagsInUseLine: &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;true&lt;/span&gt;,
    ValidArgs:             []&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;string&lt;/span&gt;{&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;bash&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;zsh&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;fish&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;powershell&amp;#34;&lt;/span&gt;},
    Args:                  cobra.&lt;span style=&#34;color:#447fcf&#34;&gt;ExactValidArgs&lt;/span&gt;(&lt;span style=&#34;color:#3677a9&#34;&gt;1&lt;/span&gt;),
    Run: &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;func&lt;/span&gt;(cmd *cobra.Command, args []&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;string&lt;/span&gt;) {
      &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;switch&lt;/span&gt; args[&lt;span style=&#34;color:#3677a9&#34;&gt;0&lt;/span&gt;] {
      &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;bash&amp;#34;&lt;/span&gt;:
        cmd.&lt;span style=&#34;color:#447fcf&#34;&gt;Root&lt;/span&gt;().&lt;span style=&#34;color:#447fcf&#34;&gt;GenBashCompletion&lt;/span&gt;(os.Stdout)
      &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;zsh&amp;#34;&lt;/span&gt;:
        cmd.&lt;span style=&#34;color:#447fcf&#34;&gt;Root&lt;/span&gt;().&lt;span style=&#34;color:#447fcf&#34;&gt;GenZshCompletion&lt;/span&gt;(os.Stdout)
      &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;fish&amp;#34;&lt;/span&gt;:
        cmd.&lt;span style=&#34;color:#447fcf&#34;&gt;Root&lt;/span&gt;().&lt;span style=&#34;color:#447fcf&#34;&gt;GenFishCompletion&lt;/span&gt;(os.Stdout, &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;true&lt;/span&gt;)
      &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;case&lt;/span&gt; &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;powershell&amp;#34;&lt;/span&gt;:
        cmd.&lt;span style=&#34;color:#447fcf&#34;&gt;Root&lt;/span&gt;().&lt;span style=&#34;color:#447fcf&#34;&gt;GenPowerShellCompletion&lt;/span&gt;(os.Stdout)
      }
    },
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®˜æ–¹æ¨èå°†ç”Ÿæˆå†…å®¹è¾“å‡ºåˆ° &lt;code&gt;os.Stdout&lt;/code&gt;ï¼Œåªéœ€ä¸Šé¢è¿™äº›ç®€å•çš„å‘½ä»¤ï¼Œå³å¯åœ¨ä½ çš„ CLI å·¥å…·ä¸­æ–°å¢ &lt;code&gt;completion&lt;/code&gt; å­å‘½ä»¤ï¼Œæ‰§è¡Œè¯¥å‘½ä»¤å³å¯ç”Ÿæˆç›¸åº” Shell çš„å‘½ä»¤è‡ªåŠ¨è¡¥å…¨è„šæœ¬ï¼Œå°†å…¶æ’å…¥æˆ–ä¿å­˜åˆ°ç›¸åº” Shell çš„æŒ‡å®šä½ç½®å³å¯å®ç°å‘½ä»¤è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚&lt;/p&gt;


&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;æ³¨æ„&lt;/h4&gt;
å¦‚æœåŠ è½½äº†é…ç½®æ–‡ä»¶ï¼Œ&lt;code&gt;os.Stdout&lt;/code&gt; å¯èƒ½ä¼šæ‰“å°å¤šä½™çš„ä¿¡æ¯ï¼Œè¿™ä¼šå¯¼è‡´è‡ªåŠ¨è¡¥å…¨è„šæœ¬å¤±æ•ˆï¼Œæ‰€ä»¥è¯·é¿å…è¿™ç§æƒ…å†µã€‚
&lt;/div&gt;

&lt;h3 id=&#34;è¿›é˜¶ç”¨æ³•&#34;&gt;è¿›é˜¶ç”¨æ³•&lt;/h3&gt;
&lt;p&gt;ä¸Šé¢çš„è¿™äº›åªæ˜¯åŸºæœ¬ç”¨æ³•ï¼Œå®Œæˆçš„åªæ˜¯å‘½ä»¤è¡¥å…¨çš„åŸºæœ¬åŠŸèƒ½ï¼Œä½†ä¸€äº›å®šåˆ¶åŒ–çš„éœ€æ±‚æ˜¯æ— æ³•å®ç°çš„ã€‚æ¯”å¦‚ï¼Œ&lt;code&gt;kubectl get [tab]&lt;/code&gt; è¿™é‡Œçš„é¢„æœŸå†…å®¹æ˜¯è¿”å›æ‰€æœ‰ k8s èµ„æºåç§°ï¼Œä½†æ˜¯åªé ä¸Šé¢çš„ä»£ç æ˜¯æ— æ³•å®ç°çš„ã€‚è¿™é‡Œå°±éœ€è¦ç”¨åˆ°è‡ªå®šä¹‰è¡¥å…¨ï¼Œé€šè¿‡ä¸ºæ¯ä¸ªå‘½ä»¤å¢åŠ ä¸åŒçš„å‚æ•°æˆ–æ–¹æ³•ï¼Œå¯ä»¥å®ç°é™æ€å’ŒåŠ¨æ€è¡¥å…¨ç­‰åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h4 id=&#34;åç§°è¡¥å…¨&#34;&gt;åç§°è¡¥å…¨&lt;/h4&gt;
&lt;p&gt;åç§°è¡¥å…¨å…¶å®ä¹Ÿåˆ†é™æ€åç§°å’ŒåŠ¨æ€åç§°ï¼Œé™æ€åç§°å°±åƒ &lt;code&gt;kubectl completion [tab]&lt;/code&gt; é¢„æœŸè¿”å›çš„å¤šç§ shell åç§°ï¼Œå†…å®¹ä¸ºäº‹å…ˆåœ¨ä»£ç ä¸­å·²ç»å®šä¹‰å¥½çš„å†…å®¹ï¼›è€ŒåŠ¨æ€åç§°ï¼Œå°±æ˜¯åƒ &lt;code&gt;helm status [tab]&lt;/code&gt; é¢„æœŸè¿”å›çš„æ‰€æœ‰ release åç§°ï¼Œå¹¶ä¸æ˜¯ä»¥é™æ€å†…å®¹ä½“ç°ï¼Œè€Œæ˜¯é€šè¿‡å‡½æ•°åŠ¨æ€è·å–çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;h5 id=&#34;é™æ€åç§°è¡¥å…¨&#34;&gt;é™æ€åç§°è¡¥å…¨&lt;/h5&gt;
&lt;p&gt;é™æ€åç§°è¡¥å…¨æ¯”è¾ƒç®€å•ï¼Œåªè¦åœ¨æƒ³è¦è‡ªåŠ¨è¡¥å…¨çš„å­å‘½ä»¤ä¸­åŠ å…¥ &lt;code&gt;ValidArgs&lt;/code&gt; å­—æ®µï¼Œä¼ å…¥ä¸€ç»„åŒ…å«é¢„æœŸç»“æœçš„å­—ç¬¦ä¸²æ•°ç»„å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;validArgs []&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;string&lt;/span&gt; = { &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;pod&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;node&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;service&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;replicationcontroller&amp;#34;&lt;/span&gt; }

cmd := &amp;amp;cobra.Command{
    Use:     &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;get [(-o|--output=)json|yaml|template|...] (RESOURCE [NAME] | RESOURCE/NAME ...)&amp;#34;&lt;/span&gt;,
    Short:   &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;Display one or many resources&amp;#34;&lt;/span&gt;,
    Long:    get_long,
    Example: get_example,
    Run: &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;func&lt;/span&gt;(cmd *cobra.Command, args []&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;string&lt;/span&gt;) {
      err := &lt;span style=&#34;color:#447fcf&#34;&gt;RunGet&lt;/span&gt;(f, out, cmd, args)
      util.&lt;span style=&#34;color:#447fcf&#34;&gt;CheckErr&lt;/span&gt;(err)
    },
    ValidArgs: validArgs,
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œæ˜¯æ¨¡ä»¿ kubectl çš„ &lt;code&gt;get&lt;/code&gt; å­å‘½ä»¤ï¼Œåœ¨æ‰§è¡Œè¯¥å‘½ä»¤æ—¶æ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ kubectl get [tab][tab]
node   pod   replicationcontroller   service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœå‘½ä»¤æœ‰åˆ«åï¼ˆAliasesï¼‰çš„è¯ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ &lt;code&gt;ArgAliases&lt;/code&gt;ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;argAliases []&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;string&lt;/span&gt; = { &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;pods&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;nodes&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;services&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;svc&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;replicationcontrollers&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;rc&amp;#34;&lt;/span&gt; }

cmd := &amp;amp;cobra.Command{
    ...
    ValidArgs:  validArgs,
    ArgAliases: argAliases
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;æ³¨æ„&lt;/h4&gt;
åˆ«åä¸ä¼šåœ¨æŒ‰ &lt;kbd&gt;TAB&lt;/kbd&gt; æ—¶æç¤ºç»™ç”¨æˆ·ï¼Œä½†å¦‚æœæ‰‹åŠ¨è¾“å…¥ï¼Œåˆ™è¡¥å…¨ç®—æ³•ä¼šå°†å…¶è§†ä¸ºæœ‰æ•ˆå‚æ•°ï¼Œå¹¶æä¾›åç»­çš„è¡¥å…¨ã€‚
&lt;/div&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ kubectl get rc [tab][tab]
backend        frontend       database
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œå¦‚æœä¸å£°æ˜ &lt;code&gt;rc&lt;/code&gt; ä¸ºåˆ«åï¼Œåˆ™è¡¥å…¨ç®—æ³•å°†æ— æ³•è¡¥å…¨åç»­çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;h5 id=&#34;åŠ¨æ€åç§°è¡¥å…¨&#34;&gt;åŠ¨æ€åç§°è¡¥å…¨&lt;/h5&gt;
&lt;p&gt;å¦‚æœéœ€è¦è¡¥å…¨çš„åç§°æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œä¾‹å¦‚ &lt;code&gt;helm status [tab]&lt;/code&gt; è¿™é‡Œçš„ &lt;code&gt;release&lt;/code&gt; å€¼ï¼Œå°±éœ€è¦ç”¨åˆ° &lt;code&gt;ValidArgsFunction&lt;/code&gt; å­—æ®µï¼Œå°†éœ€è¦è¿”å›çš„å†…å®¹ä»¥ function çš„å½¢å¼å£°æ˜åœ¨ &lt;code&gt;cobra.Command&lt;/code&gt; ä¸­ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;cmd := &amp;amp;cobra.Command{
    Use:   &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;status RELEASE_NAME&amp;#34;&lt;/span&gt;,
    Short: &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;Display the status of the named release&amp;#34;&lt;/span&gt;,
    Long:  status_long,
    RunE: &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;func&lt;/span&gt;(cmd *cobra.Command, args []&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;string&lt;/span&gt;) {
      &lt;span style=&#34;color:#447fcf&#34;&gt;RunGet&lt;/span&gt;(args[&lt;span style=&#34;color:#3677a9&#34;&gt;0&lt;/span&gt;])
    },
    ValidArgsFunction: &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;func&lt;/span&gt;(cmd *cobra.Command, args []&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;string&lt;/span&gt;, toComplete &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;string&lt;/span&gt;) ([]&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;string&lt;/span&gt;, cobra.ShellCompDirective) {
      &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#24909d&#34;&gt;len&lt;/span&gt;(args) != &lt;span style=&#34;color:#3677a9&#34;&gt;0&lt;/span&gt; {
        &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;nil&lt;/span&gt;, cobra.ShellCompDirectiveNoFileComp
      }
      &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#447fcf&#34;&gt;getReleasesFromCluster&lt;/span&gt;(toComplete), cobra.ShellCompDirectiveNoFileComp
    },
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢è¿™æ®µä»£ç æ˜¯ &lt;code&gt;helm&lt;/code&gt; çš„æºç ï¼Œä¹Ÿæ˜¯ Cobra çš„å®˜æ–¹ç¤ºä¾‹ä»£ç ï¼Œå¾ˆå¥½çš„å±•ç¤ºäº†è¿™ä¸ª function çš„ç»“æ„åŠè¿”å›æ ¼å¼ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å»çœ‹ä¸€ä¸‹ &lt;code&gt;helm&lt;/code&gt; çš„æºç ï¼Œä¹Ÿæ˜¯å¾ˆæœ‰æ„æ€çš„ã€‚&lt;code&gt;getReleasesFromCluster&lt;/code&gt; æ–¹æ³•æ˜¯ç”¨æ¥è·å– Helm release åˆ—è¡¨ï¼Œåœ¨æ‰§è¡Œå‘½ä»¤æ—¶ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ helm status [tab][tab]
harbor notary rook thanos
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;cobra.ShellCompDirective&lt;/code&gt; å¯ä»¥æ§åˆ¶è‡ªåŠ¨è¡¥å…¨çš„ç‰¹å®šè¡Œä¸ºï¼Œä½ å¯ä»¥ç”¨æˆ–è¿ç®—ç¬¦æ¥ç»„åˆå®ƒä»¬ï¼Œåƒè¿™æ · &lt;code&gt;cobra.ShellCompDirectiveNoSpace | cobra.ShellCompDirectiveNoFileComp&lt;/code&gt;ï¼Œä¸‹é¢æ˜¯å®ƒä»¬çš„ä»‹ç»ï¼ˆæ‘˜è‡ªå®˜æ–¹æ–‡æ¡£ï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// Indicates that the shell will perform its default behavior after completions
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// have been provided (this implies none of the other directives).
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;ShellCompDirectiveDefault

&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// Indicates an error occurred and completions should be ignored.
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;ShellCompDirectiveError

&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// Indicates that the shell should not add a space after the completion,
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// even if there is a single completion provided.
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;ShellCompDirectiveNoSpace

&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// Indicates that the shell should not provide file completion even when
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// no completion is provided.
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;ShellCompDirectiveNoFileComp

&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// Indicates that the returned completions should be used as file extension filters.
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// For example, to complete only files of the form *.json or *.yaml:
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;//    return []string{&amp;#34;yaml&amp;#34;, &amp;#34;json&amp;#34;}, ShellCompDirectiveFilterFileExt
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// For flags, using MarkFlagFilename() and MarkPersistentFlagFilename()
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// is a shortcut to using this directive explicitly.
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;//
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;ShellCompDirectiveFilterFileExt

&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// Indicates that only directory names should be provided in file completion.
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// For example:
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;//    return nil, ShellCompDirectiveFilterDirs
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// For flags, using MarkFlagDirname() is a shortcut to using this directive explicitly.
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;//
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// To request directory names within another directory, the returned completions
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// should specify a single directory name within which to search. For example,
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;// to complete directories within &amp;#34;themes/&amp;#34;:
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;//    return []string{&amp;#34;themes&amp;#34;}, ShellCompDirectiveFilterDirs
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;//
&lt;/span&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;&lt;/span&gt;ShellCompDirectiveFilterDirs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;æ³¨æ„&lt;/h4&gt;
&lt;code&gt;ValidArgs&lt;/code&gt; å’Œ &lt;code&gt;ValidArgsFunction&lt;/code&gt; åŒæ—¶åªèƒ½å­˜åœ¨ä¸€ä¸ªã€‚åœ¨ä½¿ç”¨ &lt;code&gt;ValidArgsFunction&lt;/code&gt; æ—¶ï¼ŒCobra å°†åœ¨è§£æäº†å‘½ä»¤è¡Œä¸­æä¾›çš„æ‰€æœ‰ flag å’Œå‚æ•°ä¹‹åæ‰ä¼šè°ƒç”¨æ‚¨çš„æ³¨å†Œå‡½æ•°ã€‚
&lt;/div&gt;

&lt;h4 id=&#34;flag-è¡¥å…¨&#34;&gt;Flag è¡¥å…¨&lt;/h4&gt;
&lt;h5 id=&#34;æŒ‡å®šå¿…é€‰-flag&#34;&gt;æŒ‡å®šå¿…é€‰ flag&lt;/h5&gt;
&lt;p&gt;å¤§å¤šæ—¶å€™ï¼Œåå­—è¡¥å…¨åªä¼šæç¤ºå­å‘½ä»¤çš„è¡¥å…¨ï¼Œä½†å¦‚æœä¸€äº› flag æ˜¯å¿…é¡»çš„ï¼Œä¹Ÿå¯ä»¥åœ¨ç”¨æˆ·æŒ‰ &lt;kbd&gt;TAB&lt;/kbd&gt; é”®æ—¶è¿›è¡Œè‡ªåŠ¨è¡¥å…¨ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;cmd.&lt;span style=&#34;color:#447fcf&#34;&gt;MarkFlagRequired&lt;/span&gt;(&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;pod&amp;#34;&lt;/span&gt;)
cmd.&lt;span style=&#34;color:#447fcf&#34;&gt;MarkFlagRequired&lt;/span&gt;(&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;container&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶ååœ¨æ‰§è¡Œå‘½ä»¤æ—¶ï¼Œå°±å¯ä»¥çœ‹åˆ°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ kubectl &lt;span style=&#34;color:#24909d&#34;&gt;exec&lt;/span&gt; [tab][tab]
-c            --container=  -p            --pod=  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;åŠ¨æ€-flag&#34;&gt;åŠ¨æ€ flag&lt;/h5&gt;
&lt;p&gt;åŒåç§°è¡¥å…¨ç±»ä¼¼ï¼ŒCobra æä¾›äº†ä¸€ä¸ªå­—æ®µæ¥å®Œæˆè¯¥åŠŸèƒ½ï¼Œéœ€è¦ä½¿ç”¨ &lt;code&gt;command.RegisterFlagCompletionFunc()&lt;/code&gt; æ¥æ³¨å†Œè‡ªåŠ¨è¡¥å…¨çš„å‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;flagName := &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;output&amp;#34;&lt;/span&gt;
cmd.&lt;span style=&#34;color:#447fcf&#34;&gt;RegisterFlagCompletionFunc&lt;/span&gt;(flagName, &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;func&lt;/span&gt;(cmd *cobra.Command, args []&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;string&lt;/span&gt;, toComplete &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;string&lt;/span&gt;) ([]&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;string&lt;/span&gt;, cobra.ShellCompDirective) {
    &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;return&lt;/span&gt; []&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;string&lt;/span&gt;{&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;json&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;table&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;yaml&amp;#34;&lt;/span&gt;}, cobra.ShellCompDirectiveDefault
})
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;RegisterFlagCompletionFunc()&lt;/code&gt; æ˜¯é€šè¿‡ &lt;code&gt;command&lt;/code&gt; ä¸è¯¥ flag çš„è¿›è¡Œå…³è”çš„ï¼Œåœ¨æœ¬ç¤ºä¾‹ä¸­å¯ä»¥çœ‹åˆ°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ helm status --output [tab][tab]
json table yaml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨æ–¹å¼å’Œåç§°è¡¥å…¨ç›¸åŒï¼Œè¿™é‡Œå°±ä¸åšè¯¦ç»†ä»‹ç»äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;debug&#34;&gt;Debug&lt;/h4&gt;
&lt;p&gt;å‘½ä»¤è‡ªåŠ¨è¡¥å…¨ä¸å…¶ä»–åŠŸèƒ½ä¸åŒï¼Œè°ƒè¯•èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥ Cobra æä¾›äº†è°ƒç”¨éšè—å‘½ä»¤ï¼Œæ¨¡æ‹Ÿè‡ªåŠ¨è¡¥å…¨è„šæœ¬çš„æ–¹å¼æ¥å¸®åŠ©è°ƒè¯•ä»£ç ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ä»¥ä¸‹éšè—å‘½ä»¤æ¥æ¨¡æ‹Ÿè§¦å‘ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ helm __complete status har[ENTER]
harbor
:4
Completion ended with directive: ShellCompDirectiveNoFileComp &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# This is on stderr&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;æ³¨æ„&lt;/h4&gt;
å¦‚æœéœ€è¦æç¤ºåç§°è€Œéè¡¥å…¨ï¼ˆå°±æ˜¯è¾“å…¥å‘½ä»¤åç›´æ¥æŒ‰ &lt;kbd&gt;TAB&lt;/kbd&gt; é”®ï¼‰ï¼Œåˆ™å¿…é¡»å°†ç©ºå‚æ•°ä¼ é€’ç»™ &lt;code&gt;__complete&lt;/code&gt; å‘½ä»¤ï¼š
&lt;/div&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ helm __complete status &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;[ENTER]
harbor
notary
rook
thanos
:4
Completion ended with directive: ShellCompDirectiveNoFileComp &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# This is on stderr&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŒæ ·å¯ä»¥ç”¨æ¥è°ƒè¯• flag çš„è‡ªåŠ¨è¡¥å…¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ helm __complete status --output &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;[ENTER]
json
table
yaml
:4
Completion ended with directive: ShellCompDirectiveNoFileComp &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# This is on stderr&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç»“è¯­&#34;&gt;ç»“è¯­&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸Šå†…å®¹æ˜¯ä½œè€…æŒ‘é€‰çš„ä¸€äº›è¾ƒä¸ºå¸¸ç”¨çš„åŠŸèƒ½ï¼Œæ›´å¤šçš„å†…å®¹è¯¦è§&lt;a href=&#34;https://github.com/spf13/cobra&#34;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ã€‚å¦‚æœæƒ³çœ‹ç¤ºä¾‹çš„è¯ï¼Œæ¨è &lt;a href=&#34;https://github.com/kubernetes/kubectl&#34;&gt;kubectl&lt;/a&gt; å’Œ &lt;a href=&#34;https://github.com/helm/helm&#34;&gt;helm&lt;/a&gt; çš„æºç ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ Cobra è¿˜ä¸æ˜¯å®Œç¾çš„ï¼Œæ¯”å¦‚ç”Ÿæˆçš„ Zsh è„šæœ¬æœ‰äº›é—®é¢˜ï¼Œ&lt;code&gt;kubectl&lt;/code&gt; å’Œ &lt;code&gt;helm&lt;/code&gt; éƒ½æ˜¯ä½¿ç”¨å°†å…¶ç”Ÿæˆçš„ Bash è‡ªåŠ¨è¡¥å…¨è„šæœ¬è½¬åŒ–ä¸º Zsh çš„è‡ªåŠ¨è¡¥å…¨è„šæœ¬çš„æ–¹å¼ã€‚ä½†ä¸å¾—ä¸æ‰¿è®¤ï¼ŒCobra æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„ CLI å·¥å…·æ„å»ºæ¡†æ¶ï¼Œå¾ˆå¤šæµè¡Œçš„ CLI å·¥å…·éƒ½æ˜¯ä½¿ç”¨å®ƒæ¥æ„å»ºçš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä½¿ç”¨ GO è¯­è¨€ç¼–å†™çš„ CLI å·¥å…·å¦‚é›¨åæ˜¥ç¬‹èˆ¬å¿«é€Ÿçš„å‡ºç°å¹¶å æ®äº†äº‘åŸç”Ÿå·¥å…·çš„å…³é”®ä½ç½®ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/spf13/cobra&#34;&gt;Cobra - github.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>Post: Golang è£…é€¼æŒ‡å— â…¡ï¼šåœ¨ Homwebrew ä¸Šå‘å¸ƒ Golang é¡¹ç›®</title>
      <link>https://guoxudong.io/post/golang-to-homebrew/</link>
      <pubDate>Thu, 25 Jul 2019 16:27:57 +0800</pubDate>
      
      <guid>https://guoxudong.io/post/golang-to-homebrew/</guid>
      <description>
        
        
        &lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;ç»è¿‡ä¸Šç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥åœ¨ GitHub ä¸Šæ„å»ºä¸€ä¸ªçœ‹ä¸Šå»æ­£ç»çš„ Golang é¡¹ç›®äº†ï¼Œä½†è¿™å¹¶ä¸æ˜¯ç»“æŸã€‚ä¸€ä¸ªçœŸæ­£çš„ç”¨ Golang æ„å»ºçš„å¯æ‰§è¡Œæ–‡ä»¶æ˜¯å¯ä»¥åœ¨å…¨å¹³å°è¿è¡Œçš„ï¼Œå‰æ–‡ä¸­æˆ‘ä»¬ä½¿ç”¨ &lt;code&gt;goreleaser&lt;/code&gt; å‘å¸ƒäº†ä¸€ä¸ªéå¸¸æ¼‚äº®çš„ release é¡µé¢ï¼Œå¹¶åœ¨ release é¡µé¢ä¸Šæä¾›å¤šå¹³å°çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸‹è½½ã€‚ä½†æ˜¯å¦‚æœåªæ˜¯æ‹¿ç€å¯æ‰§è¡Œæ–‡ä»¶åˆ°å¤„æ‹·è´æ‰§è¡Œï¼Œæ€»å½’ä¸å¤Ÿä¼˜é›…ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä»‹ç»å¦‚ä½•åœ¨ Homebrew ä¸Šå‘å¸ƒè‡ªå·±çš„ Golang åº”ç”¨ï¼Œå¦‚ä½•åƒå„ç§ç‰›é€¼çš„é¡¹ç›®é‚£æ ·ä½¿ç”¨ &lt;code&gt;brew&lt;/code&gt; ä¸€é”®å®‰è£…è‡ªå·±çš„é¡¹ç›®ã€‚&lt;/p&gt;
&lt;h2 id=&#34;homebrew&#34;&gt;Homebrew&lt;/h2&gt;
&lt;p&gt;å¯¹äºä½¿ç”¨ macOS çš„ç”¨æˆ·æ¥è¯´ï¼ŒHomebrew ä¸€ç‚¹ä¹Ÿä¸é™Œç”Ÿï¼Œå®ƒç±»ä¼¼äº CentOS çš„ &lt;code&gt;yum&lt;/code&gt; å’Œ Ubuntu çš„ &lt;code&gt;apt-get&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://brew.sh/&#34;&gt;Homebrew&lt;/a&gt; æ˜¯æœ€åˆç”± Max Howell ç”¨ Ruby å†™çš„ OS X è½¯ä»¶ç®¡ç†ç³»ç»Ÿï¼Œå…¶ä»£ç å¼€æºåœ¨ &lt;a href=&#34;https://github.com/Homebrew/brew/&#34;&gt;GitHub&lt;/a&gt; ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;Homebrew ç»™è‡ªå·±è´´äº†ä¸ªä¸€å¥è¯ç®€ä»‹ï¼šThe missing package manager for OS Xã€‚ç¿»è¯‘è¿‡æ¥æˆä¸­æ–‡å°±æ˜¯ï¼šmacOS ç¼ºå¤±çš„è½¯ä»¶åŒ…çš„ç®¡ç†å™¨ã€‚åå‰¯å…¶å®åœ°æ˜¯ï¼ŒHomebrew çœŸçš„å¾ˆå¥½ç”¨ã€‚å®‰è£…ã€å‡çº§ã€å¸è½½ç­‰æ“ä½œï¼Œåœ¨ Homebrew çš„ç”Ÿæ€ä¸‹ï¼Œéƒ½åªéœ€è¦ä¸€æ¡å‘½ä»¤å°±å¯ä»¥äº†ã€‚å¹¶ä¸” Homebrew ä¼šè‡ªåŠ¨ä¸ºä½ è§£å†³è½¯ä»¶åŒ…çš„ä¾èµ–é—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‘å¸ƒæ­¥éª¤&#34;&gt;å‘å¸ƒæ­¥éª¤&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»º Formula&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹ rb è„šæœ¬&lt;/li&gt;
&lt;li&gt;æœ¬åœ°æµ‹è¯•&lt;/li&gt;
&lt;li&gt;åˆ›å»º Tap&lt;/li&gt;
&lt;li&gt;å®é™…å®‰è£…&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åˆ›å»º-formula&#34;&gt;åˆ›å»º Formula&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆè¿›å…¥ release é¡µé¢ï¼Œæ‹·è´ macOS çš„ Darwin åŒ…åœ°å€&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ws4.sinaimg.cn/large/ad5fbf65gy1g5c7b4mi5fj21lq0se4ck.jpg&#34; alt=&#34;image&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åé€šè¿‡å‘½ä»¤åœ¨æœ¬åœ°åˆ›å»º Formula&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;brew create https://github.com/sunny0826/kubecm/releases/download/v0.0.1/kubecm_0.0.1_Darwin_x86_64.tar.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é€šè¿‡è¿™ä¸ªå‘½ä»¤ï¼Œ&lt;code&gt;brew&lt;/code&gt; ä¼šåˆ›å»ºä¸€ä¸ªåä¸º &lt;code&gt;kubecm.rb&lt;/code&gt; çš„æ–‡ä»¶åœ¨ &lt;code&gt;/usr/local/Homebrew/Library/Taps/homebrew/homebrew-core/Formula/&lt;/code&gt; ç›®å½•ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¿®æ”¹-rb-è„šæœ¬&#34;&gt;ä¿®æ”¹ rb è„šæœ¬&lt;/h3&gt;
&lt;p&gt;ç„¶ååœ¨è¯¥ç›®å½•å¯ä»¥çœ‹åˆ° &lt;code&gt;kubecm.rb&lt;/code&gt; è¿™ä¸ªè„šæœ¬ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Ruby&#34; data-lang=&#34;Ruby&#34;&gt;&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# Documentation: https://github.com/Homebrew/brew/blob/master/share/doc/homebrew/Formula-Cookbook.md&lt;/span&gt;
&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;#                http://www.rubydoc.info/github/Homebrew/brew/master/Formula&lt;/span&gt;
&lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# PLEASE REMOVE ALL GENERATED COMMENTS BEFORE SUBMITTING YOUR PULL REQUEST!&lt;/span&gt;

&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#447fcf;text-decoration:underline&#34;&gt;OtfccMac64&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#40ffff&#34;&gt;Formula&lt;/span&gt;
  desc &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;
  homepage &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;
  url &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;https://github.com/sunny0826/kubecm/releases/download/v0.0.1/kubecm_0.0.1_Darwin_x86_64.tar.gz&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;
  version &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;0.0.1&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;
  sha256 &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;f393b14f9c42c890b8a60949b13a8f9b5c3f814daa8b18901656ccc3b866f646&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;

  &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# depends_on &amp;#34;cmake&amp;#34; =&amp;gt; :build&lt;/span&gt;
  depends_on &lt;span style=&#34;color:#ed9d13&#34;&gt;:x11&lt;/span&gt; &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# if your formula requires any X11/XQuartz components&lt;/span&gt;

  &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#447fcf;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#447fcf&#34;&gt;install&lt;/span&gt;
    &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# ENV.deparallelize  # if your formula fails when building in parallel&lt;/span&gt;

    &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# Remove unrecognized options if warned by configure&lt;/span&gt;
    &lt;span style=&#34;color:#24909d&#34;&gt;system&lt;/span&gt; &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;./configure&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;--disable-debug&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;,
                          &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;--disable-dependency-tracking&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;,
                          &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;--disable-silent-rules&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;,
                          &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;--prefix=&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;#{&lt;/span&gt;prefix&lt;span style=&#34;color:#ed9d13&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# system &amp;#34;cmake&amp;#34;, &amp;#34;.&amp;#34;, *std_cmake_args&lt;/span&gt;
    &lt;span style=&#34;color:#24909d&#34;&gt;system&lt;/span&gt; &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;make&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;install&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# if this fails, try separate make/make install steps&lt;/span&gt;
  &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;end&lt;/span&gt;

  &lt;span style=&#34;color:#24909d&#34;&gt;test&lt;/span&gt; &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;do&lt;/span&gt;
    &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# `test do` will create, run in and delete a temporary directory.&lt;/span&gt;
    &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;#&lt;/span&gt;
    &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# This test will fail and we won&amp;#39;t accept that! It&amp;#39;s enough to just replace&lt;/span&gt;
    &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# &amp;#34;false&amp;#34; with the main program this formula installs, but it&amp;#39;d be nice if you&lt;/span&gt;
    &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# were more thorough. Run the test with `brew test otfcc-win32`. Options passed&lt;/span&gt;
    &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# to `brew install` such as `--HEAD` also need to be provided to `brew test`.&lt;/span&gt;
    &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;#&lt;/span&gt;
    &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# The installed folder is not in the path, so use the entire path to any&lt;/span&gt;
    &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# executables being tested: `system &amp;#34;#{bin}/program&amp;#34;, &amp;#34;do&amp;#34;, &amp;#34;something&amp;#34;`.&lt;/span&gt;
    &lt;span style=&#34;color:#24909d&#34;&gt;system&lt;/span&gt; &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;false&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é»˜è®¤æä¾›çš„è„šæœ¬å¹¶ä¸é€‚åˆæˆ‘ä»¬ï¼Œä¿®æ”¹è¿™ä¸ªè„šæœ¬ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Ruby&#34; data-lang=&#34;Ruby&#34;&gt;&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#447fcf;text-decoration:underline&#34;&gt;Kubecm&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#40ffff&#34;&gt;Formula&lt;/span&gt;
  desc &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;Merge multiple kubeconfig&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;
  homepage &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;https://github.com/sunny0826/kubecm&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;
  url &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;https://github.com/sunny0826/kubecm/releases/download/v0.0.1/kubecm_0.0.1_Darwin_x86_64.tar.gz&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;
  version &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;0.0.1&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;
  sha256 &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;8c2766e7720049ba0ce9e3d20b7511796a6ba224ce1386cd1d4ef8cc6e1315cd&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#999;font-style:italic&#34;&gt;# depends_on &amp;#34;cmake&amp;#34; =&amp;gt; :build&lt;/span&gt;

  &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#447fcf;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#447fcf&#34;&gt;install&lt;/span&gt;
    bin.install &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;kubecm&lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ†å¸ƒå¡«ä¸Š &lt;code&gt;desc&lt;/code&gt; ã€ &lt;code&gt;homepage&lt;/code&gt; ã€&lt;code&gt;url&lt;/code&gt; ç­‰ä¿¡æ¯ï¼Œç”±äºè¿™é‡Œä¸‹è½½çš„æ˜¯ darwin åŒ…ï¼Œæ‰€ä»¥ç›´æ¥åœ¨ &lt;code&gt;install&lt;/code&gt; ä¸­å¡«ä¸Š &lt;code&gt;bin.install &amp;quot;kubecm&amp;quot;&lt;/code&gt; å³å¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æœ¬åœ°æµ‹è¯•&#34;&gt;æœ¬åœ°æµ‹è¯•&lt;/h3&gt;
&lt;p&gt;ä¿å­˜è„šæœ¬ï¼Œç„¶åä½¿ç”¨ &lt;code&gt;brew install kubecm&lt;/code&gt; è¿›è¡Œæµ‹è¯•ï¼ŒæŸ¥çœ‹ç»“æœï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Updating Homebrew...
Fast-forwarded master to origin/master.
Fast-forwarded master to origin/master.
==&amp;gt; Auto-updated Homebrew!
Updated &lt;span style=&#34;color:#3677a9&#34;&gt;2&lt;/span&gt; taps (sunny0826/tap, homebrew/cask).
==&amp;gt; Updated Formulae
sunny0826/tap/kubecm

==&amp;gt; Downloading https://github.com/sunny0826/kubecm/releases/download/v0.0.1/kubecm_0.0.1_Darwin_x86_64.tar.gz
Already downloaded: /Users/guoxudong/Library/Caches/Homebrew/kubecm-86.64.tar.gz
ğŸº  /usr/local/Cellar/kubecm/86.64: &lt;span style=&#34;color:#3677a9&#34;&gt;5&lt;/span&gt; files, 5.4MB, built in &lt;span style=&#34;color:#3677a9&#34;&gt;1&lt;/span&gt; second
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°å·²ç»å®‰è£…æˆåŠŸäº†ï¼&lt;/p&gt;
&lt;h3 id=&#34;åˆ›å»º-tap&#34;&gt;åˆ›å»º Tap&lt;/h3&gt;
&lt;p&gt;åœ¨æœ¬åœ°æµ‹è¯•æˆåŠŸä¹‹åï¼Œå°±å¯ä»¥æŠŠä»–å‘å¸ƒäº†ã€‚è¿™é‡Œéœ€è¦åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªåä¸º &lt;code&gt;homebrew-tap&lt;/code&gt; çš„ repo æ³¨æ„è¯¥ repo éœ€è¦ä»¥ &lt;code&gt;homebrew-&lt;/code&gt; ä¸ºå‰ç¼€ï¼Œåƒæ˜¯&lt;a href=&#34;https://github.com/sunny0826/homebrew-tap&#34;&gt;è¿™æ ·&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå°†åˆšæ‰çš„ &lt;code&gt;kubecm.rb&lt;/code&gt; è„šæœ¬ä¸Šä¼ åˆ°è¿™ä¸ª repo ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡ &lt;code&gt;brew&lt;/code&gt; çš„æ–¹å¼å®‰è£…äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®é™…æµ‹è¯•&#34;&gt;å®é™…æµ‹è¯•&lt;/h3&gt;
&lt;p&gt;å‘å¸ƒå¥½ä¹‹åï¼Œå°±å¯ä»¥æµ‹è¯•å‘å¸ƒæˆåŠŸæ²¡æœ‰äº†ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå¸è½½ä¹‹å‰ä½¿ç”¨æœ¬åœ°è„šæœ¬å®‰è£…çš„åº”ç”¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ brew uninstall kubecm
Uninstalling /usr/local/Cellar/kubecm/86.64... (&lt;span style=&#34;color:#3677a9&#34;&gt;5&lt;/span&gt; files, 5.4MB)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åä½¿ç”¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;brew tap sunny0826/tap &amp;amp;&amp;amp; brew install kubecm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ–è€…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;brew install sunny0826/tap/kubecm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥è¿›è¡Œå®‰è£…ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç»“è¯­&#34;&gt;ç»“è¯­&lt;/h2&gt;
&lt;p&gt;åˆ°è¿™æˆ‘ä»¬å°±æˆåŠŸçš„åœ¨ Homebrew ä¸Šå‘å¸ƒäº†è‡ªå·±çš„ Golang åº”ç”¨ï¼Œæœ¬ç¯‡ä¸­çš„æ–¹æ³•ä»…é€‚åˆ Golang å¼€å‘çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶çš„å‘å¸ƒï¼Œå…¶ä»–è¯­è¨€çš„å‘å¸ƒéœ€è¦åœ¨ &lt;code&gt;.rb&lt;/code&gt; è„šæœ¬ä¸Šæœ‰æ‰€ä¿®æ”¹ï¼Œæ›´å¤šå†…å®¹è¯·å‚è€ƒ&lt;a href=&#34;https://docs.brew.sh/&#34;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ã€‚è¿™é‡Œè¦å†ä»‹ç»ä¸€ä¸‹æˆ‘ç”¨ Golang å¼€å‘çš„å¦ä¸€ä¸ªå°å·¥å…· &lt;a href=&#34;https://github.com/sunny0826/kubecm&#34;&gt;kubecm&lt;/a&gt; ï¼Œè¯¥é¡¹ç›®ä¹‹å‰æˆ‘æ˜¯ä½¿ç”¨ python å¼€å‘çš„ï¼Œç”¨äºåˆå¹¶å¤šä¸ª kubeconfig æ–‡ä»¶ï¼Œæœ¬æ¬¡é‡å†™æ–°å¢äº†æŸ¥çœ‹æ‰€æœ‰ kubeconfig å’Œ åˆ é™¤ kubeconfig ä¸­ context ç­‰åŠŸèƒ½ï¼ŒåŒæ—¶ä¹Ÿåœ¨ Homebrew ä¸Šå‘å¸ƒï¼Œæ¬¢è¿æ‹ç –ã€‚&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Post: Golang è£…é€¼æŒ‡å—ï¼šåœ¨ GitHub ä¸Šæ„å»ºä¸€ä¸ªçœ‹ä¸Šå»æ­£è§„çš„ Golang é¡¹ç›®</title>
      <link>https://guoxudong.io/post/golang-project/</link>
      <pubDate>Fri, 19 Jul 2019 10:38:26 +0800</pubDate>
      
      <guid>https://guoxudong.io/post/golang-project/</guid>
      <description>
        
        
        &lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;æ¥è§¦ golang æ—¶é—´å¾ˆé•¿ï¼Œä½†æ˜¯çœŸæ­£åŠ¨æ‰‹å¼€å§‹å†™ golang ä¹Ÿå°±æ˜¯åœ¨æœ€è¿‘ã€‚è™½ç„¶å†™çš„ä¸å¤šï¼Œä½†æ˜¯è§è¿‡çš„ golang é¡¹ç›®å¯æ˜¯ä¸è®¡å…¶æ•°ï¼Œä» &lt;a href=&#34;https://github.com/kubernetes/kubernetes&#34;&gt;Kubernetes&lt;/a&gt; å’Œ &lt;a href=&#34;https://github.com/istio/istio&#34;&gt;istio&lt;/a&gt; åˆ°äº²èº«å‚ä¸çš„ &lt;a href=&#34;https://github.com/kubernetes-sigs/kustomize&#34;&gt;kustomize&lt;/a&gt; å†åˆ° Kubernetes ç”Ÿæ€åœˆçš„ä¼—å¤šå°å·¥å…·ï¼Œæ¯”å¦‚ï¼š &lt;a href=&#34;https://github.com/instrumenta/kubeval&#34;&gt;kubeval&lt;/a&gt; ã€ &lt;a href=&#34;https://github.com/flant/kubedog&#34;&gt;kubedog&lt;/a&gt; ç­‰ã€‚ä»é¡¹ç›®ä½¿ç”¨è€…å’Œè´¡çŒ®è€…çš„è§’åº¦æ¥è§¦äº†å„ç§å½¢å½¢è‰²è‰²çš„ golang é¡¹ç›®ã€‚ä½œä¸ºä¸€ä¸ªå¼€å‘äººå‘˜ï¼Œåœ¨äº«å—å„ç§å¼€æºé¡¹ç›®å¸¦æ¥ä¾¿åˆ©çš„åŒæ—¶ï¼Œä¹Ÿå¸Œæœ›è‡ªå·±åŠ¨æ‰‹å¼€å‘ä¸€ä¸ª golang é¡¹ç›®ã€‚ä»¥æˆ‘é˜…é¡¹ç›®æ— æ•°çš„ç»éªŒï¼Œé‚£ä¹ˆè‚¯å®šè¦æ„å»ºä¸€ä¸ªçœ‹ä¸Šå»æ­£è§„çš„ GitHub é¡¹ç›®ã€‚&lt;/p&gt;
&lt;h2 id=&#34;goland-è®¾ç½®&#34;&gt;GoLand è®¾ç½®&lt;/h2&gt;
&lt;p&gt;Go å¼€å‘ç¯å¢ƒçš„å®‰è£…ç½‘ä¸Šæ•™ç¨‹å¾ˆå¤šï¼Œè¿™é‡Œå°±ä¸åšä»‹ç»äº†ã€‚è¿™é‡Œä¸»è¦ä»‹ç»ä¸€ä¸‹åœ¨ GoLand ä¸Šå¼€å‘ç¯å¢ƒçš„è®¾ç½®ï¼Œè¿™é‡Œçš„è®¾ç½®ä¸»è¦åœ¨ MacOS ä¸Šè¿›è¡Œï¼Œå…¶ä»–ç³»ç»Ÿå¯èƒ½æœ‰æ‰€ä¸åŒã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½¿ç”¨goland-ide-vgo&#34;&gt;ä½¿ç”¨Goland IDE vgo&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;vgo&lt;/code&gt; æ˜¯åŸºäº Go Module è§„èŒƒçš„åŒ…ç®¡ç†å·¥å…·ï¼ŒåŒå®˜æ–¹çš„ go mod å‘½ä»¤å·¥å…·ç±»ä¼¼ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¼€å¯ &lt;code&gt;vgo&lt;/code&gt;ï¼Œ&lt;code&gt;GoLand&lt;/code&gt;-&amp;gt;&lt;code&gt;Preferences&lt;/code&gt;-&amp;gt;&lt;code&gt;GO&lt;/code&gt;-&amp;gt;&lt;code&gt;Go Modules(vgo)&lt;/code&gt;
&lt;img src=&#34;https://ws2.sinaimg.cn/large/ad5fbf65gy1g556yudwh8j20s20jhgn4.jpg&#34; alt=&#34;image&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰‹åŠ¨ä¿®æ”¹ &lt;code&gt;go.mod&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ latest ä¸ºæœ€æ–°ç‰ˆæœ¬ï¼ŒGoLand ä¼šå»ä¸‹è½½æœ€æ–°ä¾èµ–ä»£ç ï¼Œä¸‹è½½æˆåŠŸåä¼šä¿®æ”¹ &lt;code&gt;go.mod&lt;/code&gt; å¹¶ä¸”ç”Ÿæˆ &lt;code&gt;go.sum&lt;/code&gt; ä¾èµ–åˆ†ææ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;module github.com/sunny0826/hamal

&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#3677a9&#34;&gt;1.12&lt;/span&gt;

&lt;span style=&#34;color:#447fcf&#34;&gt;require&lt;/span&gt; (
    github.com/mitchellh/&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;go&lt;/span&gt;-homedir latest
    github.com/spf13/cobra latest
    github.com/spf13/viper latest
)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ›´æ–°æˆåŠŸ&lt;/p&gt;
&lt;p&gt;åœ¨æ›´æ–°æˆåŠŸåï¼Œä¼šç”Ÿæˆ &lt;code&gt;go.sum&lt;/code&gt; æ–‡ä»¶å¹¶ä¿®æ”¹ &lt;code&gt;go.mod&lt;/code&gt; æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;module github.com/sunny0826/hamal

&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#3677a9&#34;&gt;1.12&lt;/span&gt;

&lt;span style=&#34;color:#447fcf&#34;&gt;require&lt;/span&gt; (
    github.com/mitchellh/&lt;span style=&#34;color:#6ab825;font-weight:bold&#34;&gt;go&lt;/span&gt;-homedir v1&lt;span style=&#34;color:#3677a9&#34;&gt;.1&lt;/span&gt;&lt;span style=&#34;color:#3677a9&#34;&gt;.0&lt;/span&gt;
    github.com/spf13/cobra v0&lt;span style=&#34;color:#3677a9&#34;&gt;.0&lt;/span&gt;&lt;span style=&#34;color:#3677a9&#34;&gt;.5&lt;/span&gt;
    github.com/spf13/viper v1&lt;span style=&#34;color:#3677a9&#34;&gt;.4&lt;/span&gt;&lt;span style=&#34;color:#3677a9&#34;&gt;.0&lt;/span&gt;
)

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å¿«æ·é”® &lt;code&gt;âŒ¥(option)+â†©(return)&lt;/code&gt; æˆ–è€…ç‚¹å‡»é¼ æ ‡å³é”®, é€‰æ‹© &lt;code&gt;Sync packages of github.com/sunny0826/hamal&lt;/code&gt; åœ¨ import å¤„å¯¼å…¥ä¾èµ–ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;é…ç½®ä»£ç†&#34;&gt;é…ç½®ä»£ç†&lt;/h3&gt;
&lt;p&gt;å¦‚æœè¦é€‰å‡º golang æœ€åŠé€€ä¸€ä¸ªåŸå› ï¼Œé‚£ä¹ˆä¾èµ–ä¸‹è½½éš¾è‚¯å®šå¾—ç¥¨æœ€é«˜ï¼è¿™ä¸ªæ—¶å€™ä¸€ä¸ªåˆé€‚çš„æ¢¯å­å°±å¾ˆé‡è¦äº†ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ¢¯å­ï¼Œä¸Šé¢çš„è¿™æ­¥å°±å®Œå…¨æ— æ³•å®Œæˆã€‚è¿™é‡Œä¸»è¦ä»‹ç» GoLand ä¸Šçš„é…ç½®ï¼ŒShadowsocks çš„å®‰è£…å’Œé…ç½®å°±ä¸åšä»‹ç»äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;GoLand&lt;/code&gt;-&amp;gt;&lt;code&gt;Preferences&lt;/code&gt;-&amp;gt;&lt;code&gt;Appearance &amp;amp; Behavior&lt;/code&gt;-&amp;gt;&lt;code&gt;System Settings&lt;/code&gt;-&amp;gt;&lt;code&gt;HTTP Proxy&lt;/code&gt; è¿™é‡Œè®¾ç½®å¥½ä¹‹åï¼Œåˆ«å¿˜äº†ç‚¹å‡» &lt;code&gt;Check connection&lt;/code&gt; æµ‹è¯•ä¸€ä¸‹æ¢¯å­æ­æˆæ²¡æœ‰ã€‚
&lt;img src=&#34;https://ws4.sinaimg.cn/large/ad5fbf65gy1g557j6it07j20s20je40p.jpg&#34; alt=&#34;image&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®-go-fmt-goimports-å’Œ-golangci-lint&#34;&gt;é…ç½® &lt;code&gt;go fmt&lt;/code&gt;ã€ &lt;code&gt;goimports&lt;/code&gt; å’Œ &lt;code&gt;golangci-lint&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;è¿™ä¸‰ä¸ªå·¥å…·éƒ½æ˜¯ GoLand è‡ªå¸¦çš„ï¼Œè®¾ç½®èµ·æ¥ååˆ†ç®€å•:&lt;code&gt;GoLand&lt;/code&gt;-&amp;gt;&lt;code&gt;Preferences&lt;/code&gt;-&amp;gt;&lt;code&gt;Tools&lt;/code&gt;-&amp;gt;&lt;code&gt;File Watchers&lt;/code&gt;ï¼Œç‚¹å‡»æ·»åŠ å³å¯ã€‚ä¹‹ååœ¨å†™å®Œä»£ç ä¹‹åå°±ä¼šè‡ªåŠ¨è§¦å‘è¿™3ä¸ªå·¥å…·çš„è‡ªåŠ¨æ£€æµ‹ï¼Œå·¥å…·ä½œç”¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;go fmt&lt;/code&gt; : ç»Ÿä¸€çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;golangci-lint&lt;/code&gt; : é™æ€ä»£ç è´¨é‡æ£€æµ‹å·¥å…·ï¼Œç”¨äºåŒ…çš„è´¨é‡åˆ†æã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;goimports&lt;/code&gt; : è‡ªåŠ¨ import ä¾èµ–åŒ…å·¥å…·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://ws3.sinaimg.cn/large/ad5fbf65gy1g557ps83gsj20s30njtbs.jpg&#34; alt=&#34;image&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…é…ç½®-golint&#34;&gt;å®‰è£…é…ç½® &lt;code&gt;golint&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;GoLand æ²¡æœ‰è‡ªå¸¦ &lt;code&gt;golint&lt;/code&gt; å·¥å…·ï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mkdir -p &lt;span style=&#34;color:#40ffff&#34;&gt;$GOPATH&lt;/span&gt;/src/golang.org/x/
&lt;span style=&#34;color:#24909d&#34;&gt;cd&lt;/span&gt; &lt;span style=&#34;color:#40ffff&#34;&gt;$GOPATH&lt;/span&gt;/src/golang.org/x/
git clone https://github.com/golang/lint.git
git clone https://github.com/golang/tools.git
&lt;span style=&#34;color:#24909d&#34;&gt;cd&lt;/span&gt; &lt;span style=&#34;color:#40ffff&#34;&gt;$GOPATH&lt;/span&gt;/src/golang.org/x/lint/golint
go install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…æˆåŠŸä¹‹åå°†ä¼šåœ¨ &lt;code&gt;$GOPATH/bin&lt;/code&gt; ç›®å½•ä¸‹çœ‹åˆ°è‡ªåŠ¨ç”Ÿæˆäº† &lt;code&gt;golint&lt;/code&gt; äºŒè¿›åˆ¶å·¥å…·æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;GoLand é…ç½® &lt;code&gt;golint&lt;/code&gt;ï¼Œä¿®æ”¹ &lt;code&gt;Name&lt;/code&gt;, &lt;code&gt;Program&lt;/code&gt;, &lt;code&gt;Arguments&lt;/code&gt; ä¸‰é¡¹é…ç½®ï¼Œå…¶ä¸­ &lt;code&gt;Arguments&lt;/code&gt; éœ€è¦åŠ ä¸Š &lt;code&gt;-set_exit_status&lt;/code&gt; å‚æ•°ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://wx4.sinaimg.cn/large/ad5fbf65gy1g557z8a5jgj20ln0i0t9z.jpg&#34; alt=&#34;image&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;travis-ci-æŒç»­é›†æˆ&#34;&gt;Travis CI æŒç»­é›†æˆ&lt;/h2&gt;
&lt;p&gt;åœ¨ Github ä¸Šè£…é€¼æ€ä¹ˆèƒ½å°‘çš„äº† Travis CI ï¼Œç›´æ¥ç™»å½• &lt;a href=&#34;https://travis-ci.org/&#34;&gt;Travis CI&lt;/a&gt;ï¼Œä½¿ç”¨ GitHub ç™»å½•ï¼Œç„¶åé€‰æ‹©éœ€è¦ä½¿ç”¨ Travis CI çš„é¡¹ç›®ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ  &lt;code&gt;.travis.yml&lt;/code&gt; ï¼Œå†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;language:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;go&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;go:&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;-&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#3677a9&#34;&gt;1.12&lt;/span&gt;&lt;span style=&#34;color:#3677a9&#34;&gt;.5&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;sudo:&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;required&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;install:&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;-&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;echo&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;install&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&lt;/span&gt;script:&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;  &lt;/span&gt;-&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;echo&lt;span style=&#34;color:#666&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;script&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œåªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œåœ¨æ¯æ¬¡ push ä»£ç ä¹‹åï¼Œéƒ½ä¼šè§¦å‘ CIï¼Œå…·ä½“è¯­æ³•å¯ä»¥å‚çœ‹&lt;a href=&#34;https://docs.travis-ci.com/&#34;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è£…é€¼é‡ç‚¹ï¼š&lt;/strong&gt; ä½ ä»¥ä¸ºä½¿ç”¨ Travis CI å°±æ˜¯ä¸ºäº†æŒç»­é›†æˆå—ï¼Ÿé‚£å°±å¤ªå¤©çœŸäº†ï¼ä½¿ç”¨ Travis CI å½“ç„¶ä¸ºäº†ä»–çš„ Badges ï¼Œå°† &lt;code&gt;RESULT&lt;/code&gt; æ‹·è´åˆ°ä½ çš„ &lt;code&gt;README.md&lt;/code&gt; é‡Œé¢å°±å¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ws2.sinaimg.cn/large/ad5fbf65gy1g558xf6io4j22dk15an4t.jpg&#34; alt=&#34;image&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;go-report-card&#34;&gt;GO Report Card&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;åˆä¸€è£…é€¼é‡ç‚¹&lt;/strong&gt;ï¼šæˆ‘ä»¬åœ¨ GoLand ä¸Šå®‰è£…äº† &lt;code&gt;golint&lt;/code&gt; ç­‰å·¥å…·è¿›è¡Œä»£ç è´¨é‡æ£€æµ‹ï¼Œåœ¨æ’¸ç çš„æ—¶å€™å°±èƒ½è¿›è¡Œä»£ç æ£€æŸ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªå°±æ˜¯ä¸ºäº†çº¯è£…é€¼äº†ã€‚&lt;a href=&#34;https://goreportcard.com/&#34;&gt;GO Report Card&lt;/a&gt; æ˜¯ä¸€ä¸ª golang ä»£ç æ£€æµ‹ç½‘ç«™ï¼Œä½ åªéœ€æŠŠ Github åœ°å€å¡«ä¸Šå»å³å¯ã€‚è·å– Badges çš„æ–¹æ³•å’Œ Travis CI ç±»ä¼¼ï¼Œå°† MarkDown ä¸­çš„å†…å®¹æ‹·è´åˆ° &lt;code&gt;RERADME.md&lt;/code&gt; ä¸­å°±å¥½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ws3.sinaimg.cn/large/ad5fbf65gy1g559flsl3xj21t410ok1a.jpg&#34; alt=&#34;image&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;goreleaser&#34;&gt;GoReleaser&lt;/h2&gt;
&lt;p&gt;æŒç»­é›†æˆæœ‰äº†ï¼Œä»£ç æ£€æŸ¥ä¹Ÿæœ‰äº†ï¼Œå†ä¸‹é¢å°±æ˜¯æ€ä¹ˆå‘å¸ƒä¸€ä¸ªæ¼‚äº®çš„ release äº†ã€‚å¦‚æœè¿˜åœ¨æ‰‹åŠ¨å‘å¸ƒ release ï¼Œé‚£ä¹ˆå°±åˆæ‰ low äº†ã€‚ä½¿ç”¨ GoReleaser ä¸€è¡Œå‘½ä»¤æ¥å‘å¸ƒä¸€ä¸ªæ¼‚äº®çš„ release å§ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºä½¿ç”¨çš„çš„ MacOS ï¼Œè¿™é‡Œä½¿ç”¨ &lt;code&gt;brew&lt;/code&gt; æ¥å®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;brew install goreleaser
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆ &lt;code&gt;.goreleaser.yml&lt;/code&gt; é…ç½®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;goreleaser init
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é…ç½®å¥½äº†ä»¥åè¦è®°å¾—å¾€ &lt;code&gt;.gitignore&lt;/code&gt; åŠ ä¸Š &lt;code&gt;dist&lt;/code&gt;ï¼Œå› ä¸º goreleaser ä¼šé»˜è®¤æŠŠç¼–è¯‘ç¼–è¯‘å¥½çš„æ–‡ä»¶è¾“å‡ºåˆ° &lt;code&gt;dist&lt;/code&gt; ç›®å½•ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;goreleaser é…ç½®å¥½åï¼Œå¯ä»¥å…ˆç¼–è¯‘æµ‹è¯•ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;goreleaser --skip-validate --skip-publish --snapshot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼š&lt;/strong&gt; é¦–æ¬¡ä½¿ç”¨ goreleaser è¦é…ç½® GITHUB_TOKEN ï¼Œå¯ä»¥åœ¨&lt;a href=&#34;https://github.com/settings/tokens/new&#34;&gt;è¿™é‡Œ&lt;/a&gt;ç”³è¯·ï¼Œç”³è¯·å¥½ä¹‹åè¿è¡Œä¸‹é¢çš„å‘½ä»¤é…ç½®&lt;code&gt;GITHUB_TOKEN&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#24909d&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#40ffff&#34;&gt;GITHUB_TOKEN&lt;/span&gt;=&amp;lt;YOUR_TOKEN&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¡®ä¿æ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ“ä½œ git å’Œ goreleaser æ¥å‘å¸ƒ release äº†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;git add .
git commit -m &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;add goreleaser&amp;#34;&lt;/span&gt;
git tag -a v0.0.3 -m &lt;span style=&#34;color:#ed9d13&#34;&gt;&amp;#34;First release&amp;#34;&lt;/span&gt;
git push origin master
git push origin v0.0.3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…¨éƒ¨æå®šåï¼Œä¸€è¡Œå‘½ä»¤èµ·é£ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;goreleaser
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;goreleaser&lt;/code&gt; é…åˆ CI é£Ÿç”¨ï¼Œæ•ˆæœæ›´ä½³ï¼Œè¿™é‡Œå°±ä¸åšä»‹ç»äº†ã€‚
&lt;img src=&#34;https://wx2.sinaimg.cn/large/ad5fbf65gy1g55a7t8bq4j20sq0liacm.jpg&#34; alt=&#34;image&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;badges-å±•ç¤ºç¥å™¨&#34;&gt;Badges å±•ç¤ºç¥å™¨&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œä»‹ç»ä¸€ä¸ªå±•ç¤º Badges çš„ç¥å™¨ï¼š&lt;a href=&#34;https://shields.io/&#34;&gt;https://shields.io/&lt;/a&gt; ã€‚è¿™ä¸ªç½‘ç«™æä¾›å„ç§å„æ ·çš„ Badges ï¼Œå¦‚æœä½ æ„¿æ„ï¼Œå®Œå…¨å¯ä»¥æŠŠä½ çš„ GitHub README.md å¡«æ»¡ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå–ã€‚
&lt;img src=&#34;https://wx4.sinaimg.cn/large/ad5fbf65gy1g55aendhrwj22fg19igz0.jpg&#34; alt=&#34;image&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;åè®°&#34;&gt;åè®°&lt;/h2&gt;
&lt;p&gt;åˆ°è¿™é‡Œå¯ä»¥åœ¨ GitHub ä¸Šè£…é€¼çš„ golang é…ç½®å·²ç»ä»‹ç»çš„å·®ä¸å¤šäº†ï¼Œå…¶å®è¿˜æœ‰ &lt;a href=&#34;https://codecov.io/&#34;&gt;Codecov&lt;/a&gt;ã€&lt;a href=&#34;https://circleci.com/&#34;&gt;CircleCI&lt;/a&gt; ç­‰å·¥å…·ï¼Œè¿™é‡Œå°±ä¸åšä»‹ç»äº†ã€‚è¿™é‡Œè¦ä»‹ç»çš„æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª golang é¡¹ç›® &lt;a href=&#34;https://github.com/sunny0826/hamal&#34;&gt;Hamal&lt;/a&gt;ï¼Œè¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æ¥åœ¨ä¸åŒçš„é•œåƒä»“åº“ä¹‹é—´åŒæ­¥é•œåƒã€‚ç”±äºæˆ‘å¸æ¨è¡Œæ··åˆäº‘ï¼Œä½¿ç”¨äº†é˜¿é‡Œäº‘ä¸åä¸ºäº‘ï¼Œè€Œåœ¨é˜¿é‡Œäº‘æˆ–åä¸ºäº‘ç¯å¢ƒäº’ç›¸æ¨é•œåƒçš„æ—¶å€™æ—¶é—´éƒ½æ¯”è¾ƒé•¿ï¼Œæ‰€ä»¥å¼€å‘è¿™ä¸ªå°å·¥å…·ç”¨äºåœ¨åŠå…¬ç½‘ç»œé•œåƒåŒæ­¥ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ç”¨æ¥å°†æˆ‘åœ¨ dockerhub ä¸Šæ‰˜ç®¡çš„é•œåƒåŒæ­¥åˆ°æˆ‘ä»¬çš„ç§æœ‰ä»“åº“ï¼Œæ¬¢è¿æ‹ç –ã€‚&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
